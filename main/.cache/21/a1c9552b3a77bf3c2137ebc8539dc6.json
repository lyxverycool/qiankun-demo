{"id":"Focm","dependencies":[{"name":"D:\\myWork\\qiankun\\main\\package.json","includedInParent":true,"mtime":1595224822248},{"name":"qiankun","loc":{"line":1,"column":100},"parent":"D:\\myWork\\qiankun\\main\\index.js","resolved":"D:\\myWork\\qiankun\\main\\node_modules\\qiankun\\es\\index.js"},{"name":"./index.less","loc":{"line":2,"column":7},"parent":"D:\\myWork\\qiankun\\main\\index.js","resolved":"D:\\myWork\\qiankun\\main\\index.less"},{"name":"./render/ReactRender","loc":{"line":8,"column":19},"parent":"D:\\myWork\\qiankun\\main\\index.js","resolved":"D:\\myWork\\qiankun\\main\\render\\ReactRender.jsx"}],"generated":{"js":"\"use strict\";var e=require(\"qiankun\");require(\"./index.less\");var n=r(require(\"./render/ReactRender\"));function r(e){return e&&e.__esModule?e:{default:e}}(0,n.default)({loading:!0});var t=function(e){return(0,n.default)({loading:e})};(0,e.registerMicroApps)([{name:\"react16\",entry:\"//localhost:7100\",container:\"#subapp-viewport\",loader:t,activeRule:\"/react16\"},{name:\"reactcsr\",entry:\"//localhost:8082\",container:\"#subapp-viewport\",loader:t,activeRule:\"/reactcsr\"},{name:\"purehtml\",entry:\"//localhost:7104\",container:\"#subapp-viewport\",loader:t,activeRule:\"/purehtml\"}],{beforeLoad:[function(e){console.log(\"[LifeCycle] before load %c%s\",\"color: green;\",e.name)}],beforeMount:[function(e){console.log(\"[LifeCycle] before mount %c%s\",\"color: green;\",e.name)}],afterUnmount:[function(e){console.log(\"[LifeCycle] after unmount %c%s\",\"color: green;\",e.name)}]});var o=(0,e.initGlobalState)({user:\"qiankun\"}),a=o.onGlobalStateChange,l=o.setGlobalState;a(function(e,n){return console.log(\"[onGlobalStateChange - master]:\",e,n)}),l({ignore:\"master\",user:{name:\"master\"}}),(0,e.setDefaultMountApp)(\"/react16\"),(0,e.start)({singular:!1}),(0,e.runAfterFirstMounted)(function(){console.log(\"[MainApp] first app mounted\")});"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":27}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":38}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":46}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":62}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":66}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":68}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":70}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":78}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":103}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":112}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":114}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":117}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":124}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":127}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":129}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":140}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":142}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":143}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":151}},{"source":"index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":155}},{"source":"index.js","original":{"line":14,"column":7},"generated":{"line":1,"column":157}},{"source":"index.js","original":{"line":14,"column":7},"generated":{"line":1,"column":159}},{"source":"index.js","original":{"line":14,"column":7},"generated":{"line":1,"column":168}},{"source":"index.js","name":"loading","original":{"line":14,"column":9},"generated":{"line":1,"column":169}},{"source":"index.js","original":{"line":14,"column":18},"generated":{"line":1,"column":178}},{"source":"index.js","original":{"line":16,"column":0},"generated":{"line":1,"column":182}},{"source":"index.js","name":"loader","original":{"line":16,"column":6},"generated":{"line":1,"column":186}},{"source":"index.js","original":{"line":16,"column":15},"generated":{"line":1,"column":188}},{"source":"index.js","name":"loading","original":{"line":16,"column":15},"generated":{"line":1,"column":197}},{"source":"index.js","original":{"line":16,"column":26},"generated":{"line":1,"column":200}},{"source":"index.js","original":{"line":16,"column":26},"generated":{"line":1,"column":207}},{"source":"index.js","original":{"line":16,"column":33},"generated":{"line":1,"column":209}},{"source":"index.js","original":{"line":16,"column":33},"generated":{"line":1,"column":211}},{"source":"index.js","original":{"line":16,"column":33},"generated":{"line":1,"column":220}},{"source":"index.js","name":"loading","original":{"line":16,"column":35},"generated":{"line":1,"column":221}},{"source":"index.js","name":"loading","original":{"line":16,"column":35},"generated":{"line":1,"column":229}},{"source":"index.js","original":{"line":22,"column":0},"generated":{"line":1,"column":235}},{"source":"index.js","original":{"line":23,"column":2},"generated":{"line":1,"column":237}},{"source":"index.js","original":{"line":23,"column":2},"generated":{"line":1,"column":239}},{"source":"index.js","original":{"line":23,"column":2},"generated":{"line":1,"column":258}},{"source":"index.js","original":{"line":24,"column":4},"generated":{"line":1,"column":259}},{"source":"index.js","name":"name","original":{"line":25,"column":6},"generated":{"line":1,"column":260}},{"source":"index.js","original":{"line":25,"column":12},"generated":{"line":1,"column":265}},{"source":"index.js","name":"entry","original":{"line":26,"column":6},"generated":{"line":1,"column":275}},{"source":"index.js","original":{"line":26,"column":13},"generated":{"line":1,"column":281}},{"source":"index.js","name":"container","original":{"line":27,"column":6},"generated":{"line":1,"column":300}},{"source":"index.js","original":{"line":27,"column":17},"generated":{"line":1,"column":310}},{"source":"index.js","name":"loader","original":{"line":28,"column":6},"generated":{"line":1,"column":329}},{"source":"index.js","name":"loader","original":{"line":28,"column":6},"generated":{"line":1,"column":336}},{"source":"index.js","name":"activeRule","original":{"line":29,"column":6},"generated":{"line":1,"column":338}},{"source":"index.js","original":{"line":29,"column":18},"generated":{"line":1,"column":349}},{"source":"index.js","original":{"line":31,"column":4},"generated":{"line":1,"column":361}},{"source":"index.js","name":"name","original":{"line":32,"column":6},"generated":{"line":1,"column":362}},{"source":"index.js","original":{"line":32,"column":12},"generated":{"line":1,"column":367}},{"source":"index.js","name":"entry","original":{"line":33,"column":6},"generated":{"line":1,"column":378}},{"source":"index.js","original":{"line":33,"column":13},"generated":{"line":1,"column":384}},{"source":"index.js","name":"container","original":{"line":34,"column":6},"generated":{"line":1,"column":403}},{"source":"index.js","original":{"line":34,"column":17},"generated":{"line":1,"column":413}},{"source":"index.js","name":"loader","original":{"line":35,"column":6},"generated":{"line":1,"column":432}},{"source":"index.js","name":"loader","original":{"line":35,"column":6},"generated":{"line":1,"column":439}},{"source":"index.js","name":"activeRule","original":{"line":36,"column":6},"generated":{"line":1,"column":441}},{"source":"index.js","original":{"line":36,"column":18},"generated":{"line":1,"column":452}},{"source":"index.js","original":{"line":38,"column":4},"generated":{"line":1,"column":465}},{"source":"index.js","name":"name","original":{"line":39,"column":6},"generated":{"line":1,"column":466}},{"source":"index.js","original":{"line":39,"column":12},"generated":{"line":1,"column":471}},{"source":"index.js","name":"entry","original":{"line":40,"column":6},"generated":{"line":1,"column":482}},{"source":"index.js","original":{"line":40,"column":13},"generated":{"line":1,"column":488}},{"source":"index.js","name":"container","original":{"line":41,"column":6},"generated":{"line":1,"column":507}},{"source":"index.js","original":{"line":41,"column":17},"generated":{"line":1,"column":517}},{"source":"index.js","name":"loader","original":{"line":42,"column":6},"generated":{"line":1,"column":536}},{"source":"index.js","name":"loader","original":{"line":42,"column":6},"generated":{"line":1,"column":543}},{"source":"index.js","name":"activeRule","original":{"line":43,"column":6},"generated":{"line":1,"column":545}},{"source":"index.js","original":{"line":43,"column":18},"generated":{"line":1,"column":556}},{"source":"index.js","original":{"line":46,"column":2},"generated":{"line":1,"column":570}},{"source":"index.js","name":"beforeLoad","original":{"line":47,"column":4},"generated":{"line":1,"column":571}},{"source":"index.js","original":{"line":47,"column":16},"generated":{"line":1,"column":582}},{"source":"index.js","original":{"line":48,"column":6},"generated":{"line":1,"column":583}},{"source":"index.js","name":"app","original":{"line":48,"column":6},"generated":{"line":1,"column":592}},{"source":"index.js","name":"console","original":{"line":49,"column":8},"generated":{"line":1,"column":595}},{"source":"index.js","name":"log","original":{"line":49,"column":16},"generated":{"line":1,"column":603}},{"source":"index.js","original":{"line":49,"column":20},"generated":{"line":1,"column":607}},{"source":"index.js","original":{"line":49,"column":52},"generated":{"line":1,"column":638}},{"source":"index.js","name":"app","original":{"line":49,"column":69},"generated":{"line":1,"column":654}},{"source":"index.js","name":"name","original":{"line":49,"column":73},"generated":{"line":1,"column":656}},{"source":"index.js","name":"beforeMount","original":{"line":52,"column":4},"generated":{"line":1,"column":664}},{"source":"index.js","original":{"line":52,"column":17},"generated":{"line":1,"column":676}},{"source":"index.js","original":{"line":53,"column":6},"generated":{"line":1,"column":677}},{"source":"index.js","name":"app","original":{"line":53,"column":6},"generated":{"line":1,"column":686}},{"source":"index.js","name":"console","original":{"line":54,"column":8},"generated":{"line":1,"column":689}},{"source":"index.js","name":"log","original":{"line":54,"column":16},"generated":{"line":1,"column":697}},{"source":"index.js","original":{"line":54,"column":20},"generated":{"line":1,"column":701}},{"source":"index.js","original":{"line":54,"column":53},"generated":{"line":1,"column":733}},{"source":"index.js","name":"app","original":{"line":54,"column":70},"generated":{"line":1,"column":749}},{"source":"index.js","name":"name","original":{"line":54,"column":74},"generated":{"line":1,"column":751}},{"source":"index.js","name":"afterUnmount","original":{"line":57,"column":4},"generated":{"line":1,"column":759}},{"source":"index.js","original":{"line":57,"column":18},"generated":{"line":1,"column":772}},{"source":"index.js","original":{"line":58,"column":6},"generated":{"line":1,"column":773}},{"source":"index.js","name":"app","original":{"line":58,"column":6},"generated":{"line":1,"column":782}},{"source":"index.js","name":"console","original":{"line":59,"column":8},"generated":{"line":1,"column":785}},{"source":"index.js","name":"log","original":{"line":59,"column":16},"generated":{"line":1,"column":793}},{"source":"index.js","original":{"line":59,"column":20},"generated":{"line":1,"column":797}},{"source":"index.js","original":{"line":59,"column":54},"generated":{"line":1,"column":830}},{"source":"index.js","name":"app","original":{"line":59,"column":71},"generated":{"line":1,"column":846}},{"source":"index.js","name":"name","original":{"line":59,"column":75},"generated":{"line":1,"column":848}},{"source":"index.js","original":{"line":65,"column":48},"generated":{"line":1,"column":858}},{"source":"index.js","original":{"line":65,"column":48},"generated":{"line":1,"column":862}},{"source":"index.js","original":{"line":65,"column":48},"generated":{"line":1,"column":865}},{"source":"index.js","original":{"line":65,"column":64},"generated":{"line":1,"column":867}},{"source":"index.js","original":{"line":65,"column":64},"generated":{"line":1,"column":869}},{"source":"index.js","original":{"line":65,"column":64},"generated":{"line":1,"column":886}},{"source":"index.js","name":"user","original":{"line":66,"column":2},"generated":{"line":1,"column":887}},{"source":"index.js","original":{"line":66,"column":8},"generated":{"line":1,"column":892}},{"source":"index.js","name":"onGlobalStateChange","original":{"line":65,"column":8},"generated":{"line":1,"column":904}},{"source":"index.js","name":"onGlobalStateChange","original":{"line":65,"column":8},"generated":{"line":1,"column":906}},{"source":"index.js","name":"onGlobalStateChange","original":{"line":65,"column":8},"generated":{"line":1,"column":908}},{"source":"index.js","name":"setGlobalState","original":{"line":65,"column":29},"generated":{"line":1,"column":928}},{"source":"index.js","name":"setGlobalState","original":{"line":65,"column":29},"generated":{"line":1,"column":930}},{"source":"index.js","name":"setGlobalState","original":{"line":65,"column":29},"generated":{"line":1,"column":932}},{"source":"index.js","name":"onGlobalStateChange","original":{"line":69,"column":0},"generated":{"line":1,"column":947}},{"source":"index.js","original":{"line":69,"column":20},"generated":{"line":1,"column":949}},{"source":"index.js","name":"value","original":{"line":69,"column":21},"generated":{"line":1,"column":958}},{"source":"index.js","name":"prev","original":{"line":69,"column":28},"generated":{"line":1,"column":960}},{"source":"index.js","name":"console","original":{"line":69,"column":37},"generated":{"line":1,"column":963}},{"source":"index.js","name":"console","original":{"line":69,"column":37},"generated":{"line":1,"column":970}},{"source":"index.js","name":"log","original":{"line":69,"column":45},"generated":{"line":1,"column":978}},{"source":"index.js","original":{"line":69,"column":49},"generated":{"line":1,"column":982}},{"source":"index.js","name":"value","original":{"line":69,"column":84},"generated":{"line":1,"column":1016}},{"source":"index.js","name":"prev","original":{"line":69,"column":91},"generated":{"line":1,"column":1018}},{"source":"index.js","name":"setGlobalState","original":{"line":71,"column":0},"generated":{"line":1,"column":1023}},{"source":"index.js","original":{"line":71,"column":15},"generated":{"line":1,"column":1025}},{"source":"index.js","name":"ignore","original":{"line":72,"column":2},"generated":{"line":1,"column":1026}},{"source":"index.js","original":{"line":72,"column":10},"generated":{"line":1,"column":1033}},{"source":"index.js","name":"user","original":{"line":73,"column":2},"generated":{"line":1,"column":1042}},{"source":"index.js","original":{"line":73,"column":8},"generated":{"line":1,"column":1047}},{"source":"index.js","name":"name","original":{"line":74,"column":4},"generated":{"line":1,"column":1048}},{"source":"index.js","original":{"line":74,"column":10},"generated":{"line":1,"column":1053}},{"source":"index.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1066}},{"source":"index.js","original":{"line":81,"column":19},"generated":{"line":1,"column":1068}},{"source":"index.js","original":{"line":81,"column":19},"generated":{"line":1,"column":1070}},{"source":"index.js","original":{"line":81,"column":19},"generated":{"line":1,"column":1090}},{"source":"index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1103}},{"source":"index.js","original":{"line":86,"column":6},"generated":{"line":1,"column":1105}},{"source":"index.js","original":{"line":86,"column":6},"generated":{"line":1,"column":1107}},{"source":"index.js","original":{"line":86,"column":6},"generated":{"line":1,"column":1114}},{"source":"index.js","name":"singular","original":{"line":86,"column":8},"generated":{"line":1,"column":1115}},{"source":"index.js","original":{"line":86,"column":18},"generated":{"line":1,"column":1125}},{"source":"index.js","original":{"line":88,"column":0},"generated":{"line":1,"column":1130}},{"source":"index.js","original":{"line":88,"column":21},"generated":{"line":1,"column":1132}},{"source":"index.js","original":{"line":88,"column":21},"generated":{"line":1,"column":1134}},{"source":"index.js","original":{"line":88,"column":21},"generated":{"line":1,"column":1156}},{"source":"index.js","name":"console","original":{"line":89,"column":2},"generated":{"line":1,"column":1167}},{"source":"index.js","name":"log","original":{"line":89,"column":10},"generated":{"line":1,"column":1175}},{"source":"index.js","original":{"line":89,"column":14},"generated":{"line":1,"column":1179}}],"sources":{"index.js":"import { registerMicroApps, runAfterFirstMounted, setDefaultMountApp, start, initGlobalState } from 'qiankun';\r\nimport './index.less';\r\n\r\n/**\r\n * 主应用 **可以使用任意技术栈**\r\n * 以下分别是 React 和 Vue 的示例，可切换尝试\r\n */\r\nimport render from './render/ReactRender';\r\n// import render from './render/VueRender';\r\n\r\n/**\r\n * Step1 初始化应用（可选）\r\n */\r\nrender({ loading: true });\r\n\r\nconst loader = loading => render({ loading });\r\n\r\n/**\r\n * Step2 注册子应用\r\n */\r\n\r\nregisterMicroApps(\r\n  [\r\n    {\r\n      name: 'react16',\r\n      entry: '//localhost:7100',\r\n      container: '#subapp-viewport',\r\n      loader,\r\n      activeRule: '/react16',\r\n    },\r\n    {\r\n      name: 'reactcsr',\r\n      entry: '//localhost:8082',\r\n      container: '#subapp-viewport',\r\n      loader,\r\n      activeRule: '/reactcsr',\r\n    },\r\n    {\r\n      name: 'purehtml',\r\n      entry: '//localhost:7104',\r\n      container: '#subapp-viewport',\r\n      loader,\r\n      activeRule: '/purehtml',\r\n    },\r\n  ],\r\n  {\r\n    beforeLoad: [\r\n      app => {\r\n        console.log('[LifeCycle] before load %c%s', 'color: green;', app.name);\r\n      },\r\n    ],\r\n    beforeMount: [\r\n      app => {\r\n        console.log('[LifeCycle] before mount %c%s', 'color: green;', app.name);\r\n      },\r\n    ],\r\n    afterUnmount: [\r\n      app => {\r\n        console.log('[LifeCycle] after unmount %c%s', 'color: green;', app.name);\r\n      },\r\n    ],\r\n  },\r\n);\r\n\r\nconst { onGlobalStateChange, setGlobalState } = initGlobalState({\r\n  user: 'qiankun',\r\n});\r\n\r\nonGlobalStateChange((value, prev) => console.log('[onGlobalStateChange - master]:', value, prev));\r\n\r\nsetGlobalState({\r\n  ignore: 'master',\r\n  user: {\r\n    name: 'master',\r\n  },\r\n});\r\n\r\n/**\r\n * Step3 设置默认进入的子应用\r\n */\r\nsetDefaultMountApp('/react16');\r\n\r\n/**\r\n * Step4 启动应用\r\n */\r\nstart({ singular: false });\r\n\r\nrunAfterFirstMounted(() => {\r\n  console.log('[MainApp] first app mounted');\r\n});\r\n"},"lineCount":null}},"error":null,"hash":"b0c64a85cfbfae64307073cdee7933a4","cacheData":{"env":{}}}