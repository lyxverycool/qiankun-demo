{"id":"oS7G","dependencies":[{"name":"D:\\myWork\\qiankun\\main\\package.json","includedInParent":true,"mtime":1595224822248},{"name":"D:\\myWork\\qiankun\\main\\node_modules\\qiankun\\package.json","includedInParent":true,"mtime":1595217907536},{"name":"@babel/runtime/helpers/esm/defineProperty","loc":{"line":1,"column":28},"parent":"D:\\myWork\\qiankun\\main\\node_modules\\qiankun\\es\\globalState.js","resolved":"D:\\myWork\\qiankun\\main\\node_modules\\@babel\\runtime\\helpers\\esm\\defineProperty.js"},{"name":"lodash/cloneDeep","loc":{"line":2,"column":23},"parent":"D:\\myWork\\qiankun\\main\\node_modules\\qiankun\\es\\globalState.js","resolved":"D:\\myWork\\qiankun\\main\\node_modules\\lodash\\cloneDeep.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.initGlobalState=l,exports.getMicroAppStateActions=i;var e=t(require(\"@babel/runtime/helpers/esm/defineProperty\")),n=t(require(\"lodash/cloneDeep\"));function t(e){return e&&e.__esModule?e:{default:e}}var a={},o={};function r(e,t){Object.keys(o).forEach(function(a){o[a]instanceof Function&&o[a]((0,n.default)(e),(0,n.default)(t))})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e===a)console.warn(\"[qiankun] state has not changed！\");else{var t=(0,n.default)(a);r(a=(0,n.default)(e),t)}return i(\"global-\".concat(+new Date),!0)}function i(t,l){return{onGlobalStateChange:function(e,r){if(e instanceof Function){o[t]&&console.warn(\"[qiankun] '\".concat(t,\"' global listener already exists before this, new listener will overwrite it.\")),o[t]=e;var l=(0,n.default)(a);r&&e(l,l)}else console.error(\"[qiankun] callback must be function!\")},setGlobalState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t===a)return console.warn(\"[qiankun] state has not changed！\"),!1;var o=[],i=(0,n.default)(a);return a=(0,n.default)(Object.keys(t).reduce(function(n,a){return l||n.hasOwnProperty(a)?(o.push(a),Object.assign(n,(0,e.default)({},a,t[a]))):(console.warn(\"[qiankun] '\".concat(a,\"' not declared when init state！\")),n)},a)),0===o.length?(console.warn(\"[qiankun] state has not changed！\"),!1):(r(a,i),!0)},offGlobalStateChange:function(){return delete o[t],!0}}}"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":92}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":94}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":102}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":126}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":128}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":132}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":134}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":136}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":144}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":190}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":192}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":194}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":202}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":223}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":232}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":234}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":237}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":244}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":247}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":249}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":260}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":262}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":263}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":110,"column":1},"generated":{"line":1,"column":271}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":3,"column":0},"generated":{"line":1,"column":274}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":3,"column":4},"generated":{"line":1,"column":278}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":3,"column":18},"generated":{"line":1,"column":280}},{"source":"node_modules/qiankun/es/globalState.js","name":"deps","original":{"line":4,"column":4},"generated":{"line":1,"column":283}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":4,"column":11},"generated":{"line":1,"column":285}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":6,"column":0},"generated":{"line":1,"column":288}},{"source":"node_modules/qiankun/es/globalState.js","name":"emitGlobal","original":{"line":6,"column":9},"generated":{"line":1,"column":297}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":6,"column":20},"generated":{"line":1,"column":299}},{"source":"node_modules/qiankun/es/globalState.js","name":"prevState","original":{"line":6,"column":27},"generated":{"line":1,"column":301}},{"source":"node_modules/qiankun/es/globalState.js","name":"Object","original":{"line":7,"column":2},"generated":{"line":1,"column":304}},{"source":"node_modules/qiankun/es/globalState.js","name":"keys","original":{"line":7,"column":9},"generated":{"line":1,"column":311}},{"source":"node_modules/qiankun/es/globalState.js","name":"deps","original":{"line":7,"column":14},"generated":{"line":1,"column":316}},{"source":"node_modules/qiankun/es/globalState.js","name":"forEach","original":{"line":7,"column":20},"generated":{"line":1,"column":319}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":7,"column":28},"generated":{"line":1,"column":327}},{"source":"node_modules/qiankun/es/globalState.js","name":"id","original":{"line":7,"column":38},"generated":{"line":1,"column":336}},{"source":"node_modules/qiankun/es/globalState.js","name":"deps","original":{"line":8,"column":8},"generated":{"line":1,"column":339}},{"source":"node_modules/qiankun/es/globalState.js","name":"id","original":{"line":8,"column":13},"generated":{"line":1,"column":341}},{"source":"node_modules/qiankun/es/globalState.js","name":"Function","original":{"line":8,"column":28},"generated":{"line":1,"column":354}},{"source":"node_modules/qiankun/es/globalState.js","name":"deps","original":{"line":9,"column":6},"generated":{"line":1,"column":364}},{"source":"node_modules/qiankun/es/globalState.js","name":"id","original":{"line":9,"column":11},"generated":{"line":1,"column":366}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":9,"column":15},"generated":{"line":1,"column":370}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":9,"column":26},"generated":{"line":1,"column":372}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":9,"column":26},"generated":{"line":1,"column":374}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":9,"column":26},"generated":{"line":1,"column":383}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":9,"column":34},"generated":{"line":1,"column":387}},{"source":"node_modules/qiankun/es/globalState.js","name":"prevState","original":{"line":9,"column":45},"generated":{"line":1,"column":389}},{"source":"node_modules/qiankun/es/globalState.js","name":"prevState","original":{"line":9,"column":45},"generated":{"line":1,"column":391}},{"source":"node_modules/qiankun/es/globalState.js","name":"prevState","original":{"line":9,"column":45},"generated":{"line":1,"column":400}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":14,"column":7},"generated":{"line":1,"column":406}},{"source":"node_modules/qiankun/es/globalState.js","name":"initGlobalState","original":{"line":14,"column":16},"generated":{"line":1,"column":415}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":15,"column":6},"generated":{"line":1,"column":419}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":15,"column":6},"generated":{"line":1,"column":423}},{"source":"node_modules/qiankun/es/globalState.js","name":"arguments","original":{"line":15,"column":14},"generated":{"line":1,"column":425}},{"source":"node_modules/qiankun/es/globalState.js","name":"length","original":{"line":15,"column":24},"generated":{"line":1,"column":435}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":15,"column":33},"generated":{"line":1,"column":442}},{"source":"node_modules/qiankun/es/globalState.js","name":"undefined","original":{"line":15,"column":55},"generated":{"line":1,"column":450}},{"source":"node_modules/qiankun/es/globalState.js","name":"arguments","original":{"line":15,"column":38},"generated":{"line":1,"column":454}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":15,"column":48},"generated":{"line":1,"column":464}},{"source":"node_modules/qiankun/es/globalState.js","name":"arguments","original":{"line":15,"column":67},"generated":{"line":1,"column":467}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":15,"column":77},"generated":{"line":1,"column":477}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":15,"column":82},"generated":{"line":1,"column":480}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":17,"column":6},"generated":{"line":1,"column":483}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":17,"column":6},"generated":{"line":1,"column":486}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":17,"column":16},"generated":{"line":1,"column":490}},{"source":"node_modules/qiankun/es/globalState.js","name":"console","original":{"line":18,"column":4},"generated":{"line":1,"column":492}},{"source":"node_modules/qiankun/es/globalState.js","name":"warn","original":{"line":18,"column":12},"generated":{"line":1,"column":500}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":18,"column":17},"generated":{"line":1,"column":505}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":19,"column":9},"generated":{"line":1,"column":545}},{"source":"node_modules/qiankun/es/globalState.js","name":"prevGlobalState","original":{"line":20,"column":8},"generated":{"line":1,"column":546}},{"source":"node_modules/qiankun/es/globalState.js","name":"prevGlobalState","original":{"line":20,"column":8},"generated":{"line":1,"column":550}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":20,"column":26},"generated":{"line":1,"column":553}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":20,"column":37},"generated":{"line":1,"column":555}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":20,"column":37},"generated":{"line":1,"column":557}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":20,"column":37},"generated":{"line":1,"column":566}},{"source":"node_modules/qiankun/es/globalState.js","name":"emitGlobal","original":{"line":23,"column":4},"generated":{"line":1,"column":569}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":22,"column":4},"generated":{"line":1,"column":571}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":22,"column":18},"generated":{"line":1,"column":574}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":22,"column":29},"generated":{"line":1,"column":576}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":22,"column":29},"generated":{"line":1,"column":578}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":22,"column":29},"generated":{"line":1,"column":587}},{"source":"node_modules/qiankun/es/globalState.js","name":"prevGlobalState","original":{"line":23,"column":28},"generated":{"line":1,"column":590}},{"source":"node_modules/qiankun/es/globalState.js","name":"getMicroAppStateActions","original":{"line":26,"column":9},"generated":{"line":1,"column":593}},{"source":"node_modules/qiankun/es/globalState.js","name":"getMicroAppStateActions","original":{"line":26,"column":9},"generated":{"line":1,"column":600}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":26,"column":33},"generated":{"line":1,"column":602}},{"source":"node_modules/qiankun/es/globalState.js","name":"concat","original":{"line":26,"column":43},"generated":{"line":1,"column":612}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":26,"column":51},"generated":{"line":1,"column":620}},{"source":"node_modules/qiankun/es/globalState.js","name":"Date","original":{"line":26,"column":55},"generated":{"line":1,"column":624}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":26,"column":64},"generated":{"line":1,"column":631}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":28,"column":7},"generated":{"line":1,"column":634}},{"source":"node_modules/qiankun/es/globalState.js","name":"getMicroAppStateActions","original":{"line":28,"column":16},"generated":{"line":1,"column":643}},{"source":"node_modules/qiankun/es/globalState.js","name":"id","original":{"line":28,"column":40},"generated":{"line":1,"column":645}},{"source":"node_modules/qiankun/es/globalState.js","name":"isMaster","original":{"line":28,"column":44},"generated":{"line":1,"column":647}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":29,"column":9},"generated":{"line":1,"column":650}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":29,"column":9},"generated":{"line":1,"column":656}},{"source":"node_modules/qiankun/es/globalState.js","name":"onGlobalStateChange","original":{"line":47,"column":4},"generated":{"line":1,"column":657}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":47,"column":25},"generated":{"line":1,"column":677}},{"source":"node_modules/qiankun/es/globalState.js","name":"callback","original":{"line":47,"column":54},"generated":{"line":1,"column":686}},{"source":"node_modules/qiankun/es/globalState.js","name":"fireImmediately","original":{"line":47,"column":64},"generated":{"line":1,"column":688}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":48,"column":10},"generated":{"line":1,"column":691}},{"source":"node_modules/qiankun/es/globalState.js","name":"callback","original":{"line":48,"column":12},"generated":{"line":1,"column":694}},{"source":"node_modules/qiankun/es/globalState.js","name":"Function","original":{"line":48,"column":32},"generated":{"line":1,"column":707}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":48,"column":10},"generated":{"line":1,"column":716}},{"source":"node_modules/qiankun/es/globalState.js","name":"deps","original":{"line":53,"column":10},"generated":{"line":1,"column":717}},{"source":"node_modules/qiankun/es/globalState.js","name":"id","original":{"line":53,"column":15},"generated":{"line":1,"column":719}},{"source":"node_modules/qiankun/es/globalState.js","name":"console","original":{"line":54,"column":8},"generated":{"line":1,"column":723}},{"source":"node_modules/qiankun/es/globalState.js","name":"warn","original":{"line":54,"column":16},"generated":{"line":1,"column":731}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":54,"column":21},"generated":{"line":1,"column":736}},{"source":"node_modules/qiankun/es/globalState.js","name":"concat","original":{"line":54,"column":35},"generated":{"line":1,"column":750}},{"source":"node_modules/qiankun/es/globalState.js","name":"id","original":{"line":54,"column":42},"generated":{"line":1,"column":757}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":54,"column":46},"generated":{"line":1,"column":759}},{"source":"node_modules/qiankun/es/globalState.js","name":"deps","original":{"line":57,"column":6},"generated":{"line":1,"column":841}},{"source":"node_modules/qiankun/es/globalState.js","name":"id","original":{"line":57,"column":11},"generated":{"line":1,"column":843}},{"source":"node_modules/qiankun/es/globalState.js","name":"callback","original":{"line":57,"column":17},"generated":{"line":1,"column":846}},{"source":"node_modules/qiankun/es/globalState.js","name":"cloneState","original":{"line":59,"column":10},"generated":{"line":1,"column":848}},{"source":"node_modules/qiankun/es/globalState.js","name":"cloneState","original":{"line":59,"column":10},"generated":{"line":1,"column":852}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":59,"column":23},"generated":{"line":1,"column":855}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":59,"column":34},"generated":{"line":1,"column":857}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":59,"column":34},"generated":{"line":1,"column":859}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":59,"column":34},"generated":{"line":1,"column":868}},{"source":"node_modules/qiankun/es/globalState.js","name":"fireImmediately","original":{"line":61,"column":10},"generated":{"line":1,"column":871}},{"source":"node_modules/qiankun/es/globalState.js","name":"callback","original":{"line":62,"column":8},"generated":{"line":1,"column":874}},{"source":"node_modules/qiankun/es/globalState.js","name":"cloneState","original":{"line":62,"column":17},"generated":{"line":1,"column":876}},{"source":"node_modules/qiankun/es/globalState.js","name":"cloneState","original":{"line":62,"column":29},"generated":{"line":1,"column":878}},{"source":"node_modules/qiankun/es/globalState.js","name":"console","original":{"line":49,"column":8},"generated":{"line":1,"column":886}},{"source":"node_modules/qiankun/es/globalState.js","name":"error","original":{"line":49,"column":16},"generated":{"line":1,"column":894}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":49,"column":22},"generated":{"line":1,"column":900}},{"source":"node_modules/qiankun/es/globalState.js","name":"setGlobalState","original":{"line":74,"column":4},"generated":{"line":1,"column":941}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":74,"column":20},"generated":{"line":1,"column":956}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":75,"column":10},"generated":{"line":1,"column":967}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":75,"column":10},"generated":{"line":1,"column":971}},{"source":"node_modules/qiankun/es/globalState.js","name":"arguments","original":{"line":75,"column":18},"generated":{"line":1,"column":973}},{"source":"node_modules/qiankun/es/globalState.js","name":"length","original":{"line":75,"column":28},"generated":{"line":1,"column":983}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":75,"column":37},"generated":{"line":1,"column":990}},{"source":"node_modules/qiankun/es/globalState.js","name":"undefined","original":{"line":75,"column":59},"generated":{"line":1,"column":998}},{"source":"node_modules/qiankun/es/globalState.js","name":"arguments","original":{"line":75,"column":42},"generated":{"line":1,"column":1002}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":75,"column":52},"generated":{"line":1,"column":1012}},{"source":"node_modules/qiankun/es/globalState.js","name":"arguments","original":{"line":75,"column":71},"generated":{"line":1,"column":1015}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":75,"column":81},"generated":{"line":1,"column":1025}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":75,"column":86},"generated":{"line":1,"column":1028}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":77,"column":10},"generated":{"line":1,"column":1031}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":77,"column":10},"generated":{"line":1,"column":1034}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":77,"column":20},"generated":{"line":1,"column":1038}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":79,"column":15},"generated":{"line":1,"column":1040}},{"source":"node_modules/qiankun/es/globalState.js","name":"console","original":{"line":78,"column":8},"generated":{"line":1,"column":1047}},{"source":"node_modules/qiankun/es/globalState.js","name":"warn","original":{"line":78,"column":16},"generated":{"line":1,"column":1055}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":78,"column":21},"generated":{"line":1,"column":1060}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":79,"column":15},"generated":{"line":1,"column":1097}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKeys","original":{"line":82,"column":10},"generated":{"line":1,"column":1099}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKeys","original":{"line":82,"column":10},"generated":{"line":1,"column":1103}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":82,"column":23},"generated":{"line":1,"column":1105}},{"source":"node_modules/qiankun/es/globalState.js","name":"prevGlobalState","original":{"line":84,"column":10},"generated":{"line":1,"column":1108}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":84,"column":28},"generated":{"line":1,"column":1111}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":84,"column":39},"generated":{"line":1,"column":1113}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":84,"column":39},"generated":{"line":1,"column":1115}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":84,"column":39},"generated":{"line":1,"column":1124}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKeys","original":{"line":96,"column":10},"generated":{"line":1,"column":1127}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":86,"column":6},"generated":{"line":1,"column":1134}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":86,"column":20},"generated":{"line":1,"column":1137}},{"source":"node_modules/qiankun/es/globalState.js","name":"Object","original":{"line":86,"column":31},"generated":{"line":1,"column":1139}},{"source":"node_modules/qiankun/es/globalState.js","name":"Object","original":{"line":86,"column":31},"generated":{"line":1,"column":1141}},{"source":"node_modules/qiankun/es/globalState.js","name":"Object","original":{"line":86,"column":31},"generated":{"line":1,"column":1150}},{"source":"node_modules/qiankun/es/globalState.js","name":"keys","original":{"line":86,"column":38},"generated":{"line":1,"column":1157}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":86,"column":43},"generated":{"line":1,"column":1162}},{"source":"node_modules/qiankun/es/globalState.js","name":"reduce","original":{"line":86,"column":50},"generated":{"line":1,"column":1165}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":86,"column":57},"generated":{"line":1,"column":1172}},{"source":"node_modules/qiankun/es/globalState.js","name":"_globalState","original":{"line":86,"column":67},"generated":{"line":1,"column":1181}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKey","original":{"line":86,"column":81},"generated":{"line":1,"column":1183}},{"source":"node_modules/qiankun/es/globalState.js","name":"isMaster","original":{"line":87,"column":12},"generated":{"line":1,"column":1186}},{"source":"node_modules/qiankun/es/globalState.js","name":"isMaster","original":{"line":87,"column":12},"generated":{"line":1,"column":1193}},{"source":"node_modules/qiankun/es/globalState.js","name":"_globalState","original":{"line":87,"column":24},"generated":{"line":1,"column":1196}},{"source":"node_modules/qiankun/es/globalState.js","name":"hasOwnProperty","original":{"line":87,"column":37},"generated":{"line":1,"column":1198}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKey","original":{"line":87,"column":52},"generated":{"line":1,"column":1213}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKeys","original":{"line":88,"column":10},"generated":{"line":1,"column":1217}},{"source":"node_modules/qiankun/es/globalState.js","name":"push","original":{"line":88,"column":21},"generated":{"line":1,"column":1219}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKey","original":{"line":88,"column":26},"generated":{"line":1,"column":1224}},{"source":"node_modules/qiankun/es/globalState.js","name":"Object","original":{"line":89,"column":17},"generated":{"line":1,"column":1227}},{"source":"node_modules/qiankun/es/globalState.js","name":"assign","original":{"line":89,"column":24},"generated":{"line":1,"column":1234}},{"source":"node_modules/qiankun/es/globalState.js","name":"_globalState","original":{"line":89,"column":31},"generated":{"line":1,"column":1241}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":89,"column":45},"generated":{"line":1,"column":1244}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":89,"column":61},"generated":{"line":1,"column":1246}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":89,"column":61},"generated":{"line":1,"column":1248}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":89,"column":61},"generated":{"line":1,"column":1257}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKey","original":{"line":89,"column":65},"generated":{"line":1,"column":1260}},{"source":"node_modules/qiankun/es/globalState.js","name":"state","original":{"line":89,"column":76},"generated":{"line":1,"column":1262}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKey","original":{"line":89,"column":82},"generated":{"line":1,"column":1264}},{"source":"node_modules/qiankun/es/globalState.js","name":"console","original":{"line":92,"column":8},"generated":{"line":1,"column":1271}},{"source":"node_modules/qiankun/es/globalState.js","name":"warn","original":{"line":92,"column":16},"generated":{"line":1,"column":1279}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":92,"column":21},"generated":{"line":1,"column":1284}},{"source":"node_modules/qiankun/es/globalState.js","name":"concat","original":{"line":92,"column":35},"generated":{"line":1,"column":1298}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKey","original":{"line":92,"column":42},"generated":{"line":1,"column":1305}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":92,"column":53},"generated":{"line":1,"column":1307}},{"source":"node_modules/qiankun/es/globalState.js","name":"_globalState","original":{"line":93,"column":15},"generated":{"line":1,"column":1343}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":94,"column":9},"generated":{"line":1,"column":1347}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":96,"column":32},"generated":{"line":1,"column":1351}},{"source":"node_modules/qiankun/es/globalState.js","name":"changeKeys","original":{"line":96,"column":10},"generated":{"line":1,"column":1355}},{"source":"node_modules/qiankun/es/globalState.js","name":"length","original":{"line":96,"column":21},"generated":{"line":1,"column":1357}},{"source":"node_modules/qiankun/es/globalState.js","name":"console","original":{"line":97,"column":8},"generated":{"line":1,"column":1365}},{"source":"node_modules/qiankun/es/globalState.js","name":"warn","original":{"line":97,"column":16},"generated":{"line":1,"column":1373}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":97,"column":21},"generated":{"line":1,"column":1378}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":98,"column":15},"generated":{"line":1,"column":1415}},{"source":"node_modules/qiankun/es/globalState.js","name":"emitGlobal","original":{"line":101,"column":6},"generated":{"line":1,"column":1419}},{"source":"node_modules/qiankun/es/globalState.js","name":"globalState","original":{"line":101,"column":17},"generated":{"line":1,"column":1421}},{"source":"node_modules/qiankun/es/globalState.js","name":"prevGlobalState","original":{"line":101,"column":30},"generated":{"line":1,"column":1423}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":102,"column":13},"generated":{"line":1,"column":1427}},{"source":"node_modules/qiankun/es/globalState.js","name":"offGlobalStateChange","original":{"line":105,"column":4},"generated":{"line":1,"column":1431}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":105,"column":26},"generated":{"line":1,"column":1452}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":107,"column":13},"generated":{"line":1,"column":1463}},{"source":"node_modules/qiankun/es/globalState.js","name":"deps","original":{"line":106,"column":13},"generated":{"line":1,"column":1477}},{"source":"node_modules/qiankun/es/globalState.js","name":"id","original":{"line":106,"column":18},"generated":{"line":1,"column":1479}},{"source":"node_modules/qiankun/es/globalState.js","original":{"line":107,"column":13},"generated":{"line":1,"column":1483}}],"sources":{"node_modules/qiankun/es/globalState.js":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _cloneDeep from \"lodash/cloneDeep\";\nvar globalState = {};\nvar deps = {}; // 触发全局监听\n\nfunction emitGlobal(state, prevState) {\n  Object.keys(deps).forEach(function (id) {\n    if (deps[id] instanceof Function) {\n      deps[id](_cloneDeep(state), _cloneDeep(prevState));\n    }\n  });\n}\n\nexport function initGlobalState() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (state === globalState) {\n    console.warn('[qiankun] state has not changed！');\n  } else {\n    var prevGlobalState = _cloneDeep(globalState);\n\n    globalState = _cloneDeep(state);\n    emitGlobal(globalState, prevGlobalState);\n  }\n\n  return getMicroAppStateActions(\"global-\".concat(+new Date()), true);\n}\nexport function getMicroAppStateActions(id, isMaster) {\n  return {\n    /**\n     * onGlobalStateChange 全局依赖监听\n     *\n     * 收集 setState 时所需要触发的依赖\n     *\n     * 限制条件：每个子应用只有一个激活状态的全局监听，新监听覆盖旧监听，若只是监听部分属性，请使用 onGlobalStateChange\n     *\n     * 这么设计是为了减少全局监听滥用导致的内存爆炸\n     *\n     * 依赖数据结构为：\n     * {\n     *   {id}: callback\n     * }\n     *\n     * @param callback\n     * @param fireImmediately\n     */\n    onGlobalStateChange: function onGlobalStateChange(callback, fireImmediately) {\n      if (!(callback instanceof Function)) {\n        console.error('[qiankun] callback must be function!');\n        return;\n      }\n\n      if (deps[id]) {\n        console.warn(\"[qiankun] '\".concat(id, \"' global listener already exists before this, new listener will overwrite it.\"));\n      }\n\n      deps[id] = callback;\n\n      var cloneState = _cloneDeep(globalState);\n\n      if (fireImmediately) {\n        callback(cloneState, cloneState);\n      }\n    },\n\n    /**\n     * setGlobalState 更新 store 数据\n     *\n     * 1. 对输入 state 的第一层属性做校验，只有初始化时声明过的第一层（bucket）属性才会被更改\n     * 2. 修改 store 并触发全局监听\n     *\n     * @param state\n     */\n    setGlobalState: function setGlobalState() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (state === globalState) {\n        console.warn('[qiankun] state has not changed！');\n        return false;\n      }\n\n      var changeKeys = [];\n\n      var prevGlobalState = _cloneDeep(globalState);\n\n      globalState = _cloneDeep(Object.keys(state).reduce(function (_globalState, changeKey) {\n        if (isMaster || _globalState.hasOwnProperty(changeKey)) {\n          changeKeys.push(changeKey);\n          return Object.assign(_globalState, _defineProperty({}, changeKey, state[changeKey]));\n        }\n\n        console.warn(\"[qiankun] '\".concat(changeKey, \"' not declared when init state\\uFF01\"));\n        return _globalState;\n      }, globalState));\n\n      if (changeKeys.length === 0) {\n        console.warn('[qiankun] state has not changed！');\n        return false;\n      }\n\n      emitGlobal(globalState, prevGlobalState);\n      return true;\n    },\n    // 注销该应用下的依赖\n    offGlobalStateChange: function offGlobalStateChange() {\n      delete deps[id];\n      return true;\n    }\n  };\n}"},"lineCount":null}},"error":null,"hash":"9953b957151de415d67c485a7bb6910d","cacheData":{"env":{}}}